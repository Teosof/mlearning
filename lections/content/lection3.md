# Лекция №3. APL

## Математические операции

В APL общепринятые математические операции с обозначениями существуют так как они и есть в жизни. Например:

```apl
    3+2
5
    3×2
6
    3÷2
1.5
```

В рамках булевой алгебры, False=0, True=1

```apl
	3<2
0
	3>2
1
```

Все общепризнанные знаки сохраняются. Например, принадлежность:

```apl
    2 ∊ 7 6 2 4
1
    12 ∊ 7 6 2 4
0
```

### Сложение с векторами (матрицами)

```apl
    3+2 1 5 ⍝ вектор, в котором к каждому элементу прибавится по тройке
5 4 8
    1 2 3+2 1 5 ⍝ сложение двух векторов
3 3 8
```

Создание двух матриц 3×4, заполненных случайными значениями

```apl
    A←?3 4ρ9
    B←?3 4ρ9
```
Получили две матрица
```apl
	A
9 8 2 9
6 9 7 3
5 5 6 9
	B
3 3 8 6
8 8 1 6
2 5 1 4
    A+B ⍝ сложение матриц по элементам, получим одну матрицу 3×4
12 11 10 15
14 17 8 9
7 10 7 12
```

Аналогичное действие вычитание. При вычитании 8 из 2, мы получим (_^-)6 Пример вычисления последовательности действий на
APL:

```apl
    2+3 4-2 1
3 5
```

Упростим восприятие

```apl
    2+(3 4-2 1)
3 5
	9 5 1=5 ⍝ получаем 9 не равно 5, поэтому 0, 5 равно 5, поэтому 1 и так далее
0 1 0
	x←?9 9 9 9 ⍝ присваивания четырех случайных чисел в x
	x
5 1 3 4
```

### Оператор редукция f/x

```apl
    +/x
13
```

### Размерность ρ число элементов в векторе

```apl
    ρx
4
    ρA ⍝ размерность матрицы
3 4
    ×/ρA ⍝ число элементов матрицы
12
	+/x÷ρx ⍝ среднее арифметическое вектора x
3.25
```

APL – исполняемая математическая нотация. Нет границы между записью алгоритма и программой, нет границы между программой
и алгоритмом.

## Определений функций

```apl
)ed ave
[0]  y←ave x
[1]  y ←+/x÷ρx 
```

Аргументом будет x – вектор, результатом будет $y$

```apl
    ave x*2 ⍝ среднее квадратов вектора $x$
12.75
```

Функция с аргументом – монада, функция с двумя аргумента – диада

```apl
    ρx
2
    9ρx
2 2 2 2 2 2 2 2
```

## Подбрасывание монетки

```apl
	(+/2=?nρ2)÷n←9
0.55555556
	(+/2=?nρ2)÷n←9999999
0.50012905
```

## Построение графиков

```apl
    ] load plt
#.plt
    x
2 4 1 5 7
    plt.plot x
```

![График](/Users/roman/PycharmProjects/machine_learning/lections/images/lection3/1.png)

```apl
    1plt.plot x
```

![График](/Users/roman/PycharmProjects/machine_learning/lections/images/lection3/2.png)

Для упрощения записи plt.plot, воспользуемся командой

```apl
    ⎕path ←'plt' ⍝ path-список мест, в котором при поиске файла можно обойтись указанием директории расположения файла
    plot x
```
![График](/Users/roman/PycharmProjects/machine_learning/lections/images/lection3/3.png)
